<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta content="width=device-width, initial-scale=1.0" name="viewport">
	<title>Retro Desktop Environment</title>
	<link href="style.css" rel="stylesheet">
	<link href="favicon.ico" rel="icon" type="image/x-icon">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
	<script src="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/jquery-ui.min.js""></script>
	<script src=" source/jquery.ui.touch-punch.min.js" type="text/javascript"></script>
	<link rel="stylesheet" href="https://ajax.googleapis.com/ajax/libs/jqueryui/1.12.1/themes/smoothness/jquery-ui.css">
	<script src="script.js" type="text/javascript"></script>
</head>

<body>
	<div class="frameOverlay"></div>

	<div id="menubar">
		<button id="appMenuClick">Applications</button>
		<button id="fileMenuClick">File</button>
		<button id="optionMenuClick">Options</button>
		<button id="arrangeToDefault">Arrange</button>
		<button id="helpMenuClick">?</button>
		<a id="dateAndTime">00:00</a>
	</div>

	<div id="appMenuContent">
		<a id="pathfinderText"><img src="source/img/Pathfinder.png" width="15cm"> Pathfinder</a>
		<a id="chipText"><img src="source/img/chip.png" width="15cm"> Chip Player</a>
		<a id="ballText"><img src="source/img/ball.png" width="15cm"> Amiga Demo</a>
		<a id="notesText"><img src="source/img/notes.png" width="15cm"> Notes</a>
		<a id="terminalText"><img src="source/img/terminal.png" width="15cm"> Terminal</a>
		<a id="browserText"><img src="source/img/browser.ico" width="15cm"> Internet</a>
	</div>

	<div id="fileMenuContent">
		<a id="aboutText">About</a>
	</div>

	<div id="optionMenuContent">
		<a id="backgroundMenuClick">Background</a>
	</div>

	<div id="mainContent">
		<div id="desktopIcons">
			<img id="trashIcon" src="source/img/trash.png"> <a>Wastebin</a>
			<img id="chipIcon" src="source/img/chip.png"> <a>Chip Player</a>
			<img id="ballIcon" src="source/img/ball.png"> <a>Amiga Demo</a>
			<img id="notesIcon" src="source/img/notes.png"> <a>Notes</a>
		</div>

		<div class="application" id="mediaplayer">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeMedia">×</button>
				<a>Chip Player JS</a>
				<button class="uncollapseWindow" id="uncollapseMedia">▼</button>
				<button class="collapseWindow" id="collapseMedia">▲</button>
			</div>
			<iframe height="93%" id="mediaContent" name="mediaContent"
				src="https://mmontag.github.io/chip-player-js/browse/ModArchives/?play=ModArchives%2Fage.xmNO"
				width="99.6%">
				<p>Your browser does not support iframes.</p>
			</iframe>
		</div>

		<div class="application" id="bouncingballs">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeBounce">×</button>
				<a>Amiga Demo</a>
				<button class="uncollapseWindow" id="uncollapseBounce">▼</button>
				<button class="collapseWindow" id="collapseBounce">▲</button>
			</div>
			<iframe height="94%" id="bouncingContent" name="bouncingContent" src="http://www.coffeevortex.net/"
				width="99%">
				<p>Your browser does not support iframes.</p>
			</iframe>
		</div>

		<div class="application" id="notes">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeNotes">×</button>
				<a>Notes</a>
				<button class="uncollapseWindow" id="uncollapseNotes">▼</button>
				<button class="collapseWindow" id="collapseNotes">▲</button>
			</div>
			<div id="notesContent">
				<h1>Work in Progress</h1><a>This is still a work in progress project. Expect bugs and unfinished
					features!</a><br>
				<a>Current version: </a>
				<br>
				<a> 2020-04-12</a>
				<br>
				<h2>Changelog</h2>
				<a><b>2020-04-12:</b></a>
				<p>Added the ability to maximise windows by double-clicking the titlebar</p>
				<p>Reworked the background picker, now supports uploading backgrounds</p>
				<p>Made it possible to move any window whilst hovering over it's content by holding Alt</p>
				<p>Made it possible to close windows by pressing Alt + Q and collapse them with Alt + W</p>
				<p>Added Getpost Gavinator and the help menu</p>
				<p>Fixed a few major bugs (read the full changelog for more info)</p>
				<a href="changelog.html" target="_blank"><b>Full changelog</b></a>
				<br>
				<br>
				<a>/ Jesper</a>
			</div>
		</div>

		<div class="application" id="backgroundPicker">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeBackPicker">×</button>
				<a>Background Picker</a>
				<button class="uncollapseWindow" id="uncollapseBackPicker">▼</button>
				<button class="collapseWindow" id="collapseBackPicker">▲</button>
			</div>
			<div id="backgroundContainer">
				<div id="backgroundPick">
					<label for="backColor">Color: </label>
					<input type="color" id="backColor" value="#0000FF" onchange="colorBackground(this.value);">
					<br>
					<label for="userBackgroundPick">Background from file: </label>
					<input type="file" id="userBackgroundPick">
					<div id="firstBackground"
						style="background-image: url('source/img/nasa-Q1p7bh3SHj8-unsplash.jpg'); background-position: center; background-size: cover;">
					</div>
					<div id="secondBackground"
						style="background-image: url('source/img/KDE Plasma Scenery 64 NO LOGO.jpg'); background-position: center; background-size: cover;">
					</div>
					<div id="thirdBackground"
						style="background-image: url('source/img/andreas-gucklhorn-IRq79QU9ZGU-unsplash.jpg'); background-position: center; background-size: cover;">

					</div>
				</div>


				<div id="backgroundSettings">
					<a>Use image as background:</a>
					<input type="checkbox" id="imageBackgroundSwitch" checked>
					<div id="backgroundSize">
						<h2>Background size:</h2>
						<input type="radio" id="radioCover" name="backgroundSizes" value="cover" checked>
						<label for="radioCover">Cover</label><br>
						<input type="radio" id="radioContain" name="backgroundSizes" value="contain">
						<label for="radioContain">Contain</label><br>
						<input type="radio" id="radioAuto" name="backgroundSizes" value="auto">
						<label for="radioAuto">Auto</label>
					</div>
					<div id="backgroundRepeat">
						<h2>Background repeat:</h2>
						<input type="radio" id="radioRepeat" name="backgroundRepeats" value="repeat" checked>
						<label for="radioRepeat">Repeat</label><br>
						<input type="radio" id="radioRepeatX" name="backgroundRepeats" value="repeat-x">
						<label for="radioRepeatX">Repeat-X</label><br>
						<input type="radio" id="radioRepeatY" name="backgroundRepeats" value="repeat-y">
						<label for="radioRepeatY">Repeat-Y</label>
						<input type="radio" id="radioNoRepeat" name="backgroundRepeats" value="no-repeat">
						<label for="radioNoRepeat">No-repeat</label>
					</div>

					<div id="randomSearch">
						<h2>Random from Unsplash:</h2>
						<input id="randomSearchTerm" type="text" placeholder="search term" style="width:50%;">
						<br>
						<input id="randomWidth" value="1920" type="text" placeholder="width" style="width:22.5%;">
						<input id="randomHeight" value="1080" type="text" placeholder="height" style="width:22.5%">
						<br>
						<button id="randomFromUnsplash">Random</button>
					</div>
				</div>

			</div>
		</div>

		<div class="application" id="pathfinder">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closePathfinder">×</button>
				<a>Documents - Pathfinder</a>
				<button class="uncollapseWindow" id="uncollapsePathfinder">▼</button>
				<button class="collapseWindow" id="collapsePathfinder">▲</button>
			</div>
			<iframe height="90%" id="pathfinderContent" name="pathfinderContent" src="pathfinder.html" width="99.5%">
				<p>Your browser does not support iframes.</p>
			</iframe>
		</div>

		<div class="application" id="terminal">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeTerminal">×</button>
				<button class="closeWindow" id="customizeTerminal">&#9874;</button>
				<a>Terminal</a>
				<button class="uncollapseWindow" id="uncollapseTerminal">▼</button>
				<button class="collapseWindow" id="collapseTerminal">▲</button>
			</div>
			<div id="terminalSettings">
				<label for="terminalTransparencySwitch">Enable transparency?</label>
				<input type="checkbox" id="terminalTransparencySwitch" checked>
				<input type="range" min="0" max="1" value="0.5" step="0.1" class="slider"
					id="terminalTransparencyAmount" onchange="terminalAmountOfTransparency(this.value);">
				<label for="terminalTransparencyAmount" id="terminalTransparencyText">0.5</label>
				<label for="terminalBackColor">Background color: </label>
				<input type="color" id="terminalBackColor" value="#00000F"
					onchange="terminalColorBackground(this.value);">
			</div>
			<iframe height="92%" id="terminalContent" name="terminalContent" src="terminal.html" width="99.5%"
				allowtransparency="true">
				<p>Your browser does not support iframes.</p>
			</iframe>
		</div>

		<div class="application" id="about">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeAbout">×</button>
				<a>About project</a>
			</div>
			<div id="aboutContainer">
				<div id="aboutImage"><img src="source/img/iconSideViewFaviconCC.png" width="75%"></div>
				<div id="aboutContent">
					<h1>Retro Desktop Environment</h1>
					<a>Retro Desktop Environment is a project which aims to provide a somewhat similar experience to
						older computer operating systems.</a>
					<a>Inspiration comes from systems like Macintosh System 7, Amiga Workbench, Windows 3.1 & GEM
						Desktop.</a>
					<a></a>
					<br>
					<br>
					<a>Credit:</a>
					<p>&#8226 Me :)</p>
					<p>&#8226 Matt Montag - Chip Player JS</p>
					<p>&#8226 John Mattsson - Amiga Boing Balls</p>
					<a>&#8226</a>
					<a href="credits.html" style="color: black;" target="_blank">More (Icons and backgrounds)</a>
				</div>
			</div>
		</div>


		<div class="application" id="browserWindow" style="background-color: lightgray;">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeBrowser">×</button>
				<button class="closeWindow" id="customPicker" style="font-size: 75%;">&#9776;</button>
				<a>Getpost Gavinator</a>
				<button class="uncollapseWindow" id="uncollapseBrowser">▼</button>
				<button class="collapseWindow" id="collapseBrowser">▲</button>
			</div>
			<div id="browserInfo">
				<img src="source/img/Icon_16.ico" width="40vw">
				<span id="wait">.</span>
				<img src="source/img/Icon_46.ico" width="40vw">
				<br>
				<a>(Utilizing Old Net Navigator from <a href="http://theoldnet.com/">theoldnet.com</a>)</a>
			</div>
			<iframe height="95%" id="browserContent" src="" width="99.5%">
				<p>Your browser does not support iframes.</p>
			</iframe>
		</div>

		<div class="application" id="help">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeHelp">×</button>
				<a>How to use RDE</a>
				<button class="uncollapseWindow" id="uncollapseHelp">▼</button>
				<button class="collapseWindow" id="collapseHelp">▲</button>
			</div>
			<div id="helpContent">
				<h1>How to use Retro Desktop Environment</h1>
				<h2>Basic usage</h2>
				<p>Click the <b>Applications</b> button in the top left corner to open applications</p>
				<p>Click the <b>File</b> button in the top left corner to get more information about the project</p>
				<p>Click the <b>Options</b> button in the top menu in order to be able to set a background image</p>
				<p>Click the <b>Arrange</b> button to arrange RDE to the default layout</p>
				<p>Click the <b>×</b> icon on the top of a window in order to close it</p>
				<p>Click the <b>▲</b> icon on the top of a window in order to collapse it</p>
				<p>Press and hold down your right mouse button whilst hovering over a windows titlebar in order to drag
					it around</p>
				<p>Resize any window that supports it by moving your mouse to the corner of the window and then hold
					down the right mouse button and drag</p>
				<p><b>Double-click</b> the titlebar on supported windows to maximise them</p>

				<h2>Keyboard shortcuts</h2>
				<p>Press and hold <b>Alt</b> in order to be able to move any window, even whilst hovering over window
					contents</p>
				<p>Press <b>Alt</b> and <b>Q</b> together in order to close a window</p>
				<p>Press <b>Alt</b> and <b>W</b> together in order to collapse a window</p>
				<p>Press <b>Alt</b> and <b>F</b> together in order to maximise a supported window</p>
				<p>(If you are using an Apple computer replace alt with the option key &#8997;)</p>
			</div>
		</div>


		<div class="application" id="customizationSettings">
			<div class="windowFrameOverlay"></div>
			<div class="titlebar">
				<button class="closeWindow" id="closeCustomization">×</button>
				<a>Customize</a>
				<button class="uncollapseWindow" id="uncollapseCustomization">▼</button>
				<button class="collapseWindow" id="collapseCustomization">▲</button>
			</div>
			<div id="windowSettings">
				<h1>Test</h1>
				<a>These settings are still experimental, errors may occur</a>
				<br>
				<h2>Presets:</h2>
				<label for="darkmodeSwitch">Enable darkmode?</label>
				<input type="checkbox" id="darkmodeSwitch">
				<br>
				<h2>Manual control</h2>
				<a>Border radius:</a>
				<br>
				<input type="range" min="0" max="25" value="4" step="1" class="slider" id="borderRadiusSlider"
					onchange="setBorderRadius(this.value);">
				<label for="borderRadiusSlider" id="borderRadiusSliderText">4px</label>
				<br>
				<label for="boxShadowSwitch">Application shadows:</label>
				<input type="checkbox" id="boxShadowSwitch" checked>
				<br>
				<input type="range" min="0" max="25" value="8" step="1" class="slider" id="boxShadowHorizontalSlider"
					onchange="setboxShadowHorizontal(this.value);">
					<a class="shadowHint">Shadow horizontal offset: </a>
				<label for="boxShadowHorizontalSlider" id="boxShadowHorizontalText">8px</label>
				<br>
				<input type="range" min="0" max="25" value="15" step="1" class="slider" id="boxShadowVerticalSlider"
					onchange="setBoxShadowVertical(this.value);">
					<a class="shadowHint">Shadow vertical offset: </a>
				<label for="boxShadowVerticalSlider" id="boxShadowVerticalText">15px</label>

				<div id="notesSettings">
					<h1>Notes</h1>
					<label for="notesTranslucencySwitch">Enable translucency?</label>
					<input type="checkbox" id="notesTranslucencySwitch">
					<br>
					<input type="range" min="0" max="1" value="1" step="0.1" class="slider" id="notesOpacityAmount"
						onchange="setNotesOpacity(this.value);">
					<label for="notesOpacityAmount" id="notesOpacityText">1</label>
					<br>
					<label for="notesBackColor">Background color: </label>
					<input type="color" id="notesBackColor" value="#FFFF99"
						onchange="setNotesColorBackground(this.value);">
					<br>
					<label for="notesTextColor">Text color: </label>
					<input type="color" id="notesTextColor" value="#00000F" onchange="setNotesTextColor(this.value);">
					<button id="defaultNotes" onclick="defaultNotes();">Default</button>
				</div>

			</div>
		</div>
		<script>

			var boxShadowHorizontal = "8px";
			var boxShadowVertical = "15px";

			function setboxShadowHorizontal(boxShadowHorizontalIn) {
				boxShadowHorizontal = boxShadowHorizontalIn + "px";
				$('#boxShadowHorizontalText').text(boxShadowHorizontal);
				updateBoxShadow();
			}

			function setBoxShadowVertical(boxShadowVerticalIn) {
				boxShadowVertical = boxShadowVerticalIn + "px";
				$('#boxShadowVerticalText').text(boxShadowVertical);
				updateBoxShadow();
			}

			function updateBoxShadow(boxShadowHorizontalIn) {
				$('.application').css('box-shadow', boxShadowHorizontal + " " + boxShadowVertical + ' 0px 0px rgba(0, 0, 0, 0.75)');
			}


			$('#boxShadowSwitch').click(function () {
				if ($(this).is(':checked')) {
					updateBoxShadow();
					$('#boxShadowHorizontalSlider').show();
					$('#boxShadowHorizontalText').show();
					$('#boxShadowVerticalSlider').show();
					$('#boxShadowVerticalText').show();
					$('.shadowHint').show();
				} else {
					$('.application').css('box-shadow', 'none');
					$('#boxShadowHorizontalSlider').hide();
					$('#boxShadowHorizontalText').hide();
					$('#boxShadowVerticalSlider').hide();
					$('#boxShadowVerticalText').hide();
					$('.shadowHint').hide();
				}
			});

			function setBorderRadius(borderRadiusIn) {
				$('#borderRadiusSliderText').text(borderRadiusIn + "px");
				$('.application').css('border-radius', borderRadiusIn + "px");
				$('.titlebar').css('border-top-left-radius', borderRadiusIn + "px");
				$('.titlebar').css('border-top-right-radius', borderRadiusIn + "px");
			}

			$('#darkmodeSwitch').click(function () {
				if ($(this).is(':checked')) {
					darkmode();
				} else {
					darkmode();
				}
			});

			function darkmode() {
				$('.titlebar button').css('color', 'white');
				$('.titlebar').css('background', 'linear-gradient(to right, black, gray)');
				$('#about').css('background-color', '#090a0c');
				$('#customizationSettings').css('color', '#FFFFFF');
				$('#customizationSettings').css('background-color', '#090a0c');
				$('#help').css('background-color', '#090a0c');
				$('#backgroundPicker').css('background-color', '#090a0c');
				$('#backgroundPicker').css('color', '#FFFFFF');
				$('#menubar>button').css('color', 'white');
				$('#menubar>a').css('color', 'white');
				$('#menubar').css('background-color', '#090a0c');
				$('#appMenuContent').css('background-color', '#090a0c');
				$('#fileMenuContent').css('background-color', '#090a0c');
				$('#optionMenuContent').css('background-color', '#090a0c');
				$('#appMenuContent').css('color', '#FFFFFF');
				$('#fileMenuContent').css('color', '#FFFFFF');
				$('#optionMenuContent').css('color', '#FFFFFF');
				titlebarTextColor = "#FFFFFF";
				textColor = "#FFFFFF";
			}

			var notesOpacity = 1;
			var notesBackgroundColor = "#FFFF99";
			var notesOpacityBackup;

			function setNotesTextColor(notesTextColorIn) {
				notesTextColor = notesTextColorIn;
				$('#notesContent a').css('color', notesTextColor);
				$('#notesContent h1').css('color', notesTextColor);
				$('#notesContent h2').css('color', notesTextColor);
				$('#notesContent p').css('color', notesTextColor);
			}

			$('#notesTranslucencySwitch').click(function () {
				if ($(this).is(':checked')) {
					notesOpacity = notesOpacityBackup;
					$('#notesOpacityAmount').show();
					$('#notesOpacityText').show();
					updateNotesBackground();
				} else {
					notesOpacityBackup = notesOpacity;
					$('#notesOpacityAmount').hide();
					$('#notesOpacityText').hide();
					notesOpacity = 1;
					updateNotesBackground();
				}
			});

			function defaultNotes() {
				notesOpacity = 1;
				notesBackgroundColor = "#FFFF99";
				notesTextColor = "#000000";
				notesOpacityAmount.value = 1;
				$('#notesOpacityText').text(notesOpacity);
				updateNotesBackground();
			}

			function setNotesColorBackground(notesBackColorIn) {
				notesBackgroundColor = notesBackColorIn;
				updateNotesBackground();
			}

			function setNotesOpacity(notesOpacityIn) {
				notesOpacity = notesOpacityIn;
				$('#notesOpacityText').text(notesOpacity);
				updateNotesBackground();
			}

			function updateNotesBackground() {
				$('#notes').css('background-color', convertHex(notesBackgroundColor, notesOpacity));
			}

		</script>

	</div>
</body>

</html>